<p *ngIf="!formPaths"><em>Loading...</em></p>

<div *ngFor="let form of formPaths" class="jumbotron container">
  <h2>Formular <i>{{ form.title }}</i></h2>

  <div *ngFor="let section of form.sections" class="">
    <h4>Abschnitt <i>{{ section.name }}</i></h4>
    <div *ngFor="let question of section.questions">
      <div class="row" *ngIf="!question.options">
        <p>{{ question.question }}</p>
      </div>
      <div class="row" *ngIf="question.options">
        <p>{{ question.question }}</p>
      </div>
      <div *ngIf="question.options">
        <div class="row" *ngFor="let option of question.options">
          <div class="col"><span>&#8226;</span> {{ option.answer }}</div>
          <div class="col" *ngIf="registrables">
            <ng-multiselect-dropdown textField="name"
                                     [placeholder]="'Zuordnung'"
                                     [data]="availableQuestionOptionMappings"
                                     [(ngModel)]="option.mappedRegistrables"
                                     [settings]="dropdownSettings">
            </ng-multiselect-dropdown>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--
  <table class='table' *ngIf="path.singleConfig" hidden="hidden">
    <tbody>
    <tr>
        <td>Vorname</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionId_FirstName" class="custom-select">
            <option>-</option>
            <option *ngFor="let question of form.questions" value={{question.id}}>{{ question.section }} / {{ question.question }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Nachname</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionId_LastName" class="custom-select">
            <option>-</option>
            <option *ngFor="let question of form.questions" value={{question.id}}>{{ question.section }} / {{ question.question }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Mailadresse</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionId_Email" class="custom-select">
            <option>-</option>
            <option *ngFor="let question of form.questions" value={{question.id}}>{{ question.section }} / {{ question.question }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Telefon</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionId_Phone" class="custom-select">
            <option>-</option>
            <option *ngFor="let question of form.questions" value={{question.id}}>{{ question.section }} / {{ question.question }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Bemerkungen</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionId_Remarks" class="custom-select">
            <option>-</option>
            <option *ngFor="let question of form.questions" value={{question.id}}>{{ question.section }} / {{ question.question }}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Reduktion</td>
        <td>
          <select [(ngModel)]="path.singleConfig.questionOptionId_Reduction" class="custom-select">
            <option>-</option>
            <option *ngFor="let unassignedOption of form.unassignedOptions" value={{unassignedOption.questionOptionId}}>{{ unassignedOption.answer }} ({{ unassignedOption.section }} / {{ unassignedOption.question }})</option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>-->

  <button class="btn btn-sm btn-primary" (click)="save(form)">Speichern</button>
</div>


